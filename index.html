// 1. Sua lista de produtos permanece a mesma
const products = [
    { name: "GARRAFA TÉRMICA PRETA", price: 70.00, image: "https://i.ibb.co/vzrV1Xq/garrafa.jpg" },
    { name: "CABO USB TIPO C BRANCO", price: 15.00, image: "https://i.ibb.co/kDfH7zG/cabo.jpg" },
    { name: "FONE SEM FIO JBL PRETO", price: 70.00, image: "https://i.ibb.co/mS6v6f6/fone-jbl.jpg" },
    { name: "FONE SEM FIO PURE BASS", price: 70.00, image: "https://i.ibb.co/mS6v6f6/fone-bass.jpg" },
    { name: "CABO IPHONE 20W", price: 20.00, image: "https://i.ibb.co/Yy0fLzG/cabo-iphone.jpg" },
    { name: "FONTE IPHONE 20W", price: 25.00, image: "https://i.ibb.co/L8x5R9M/fonte-20w.jpg" },
    { name: "CARREGADOR COMPLETO IPHONE", price: 35.00, image: "https://i.ibb.co/X7P6D4v/kit-iphone.jpg" },
    { name: "CARREGADOR TIPO C 20W", price: 35.00, image: "https://i.ibb.co/D8mN6S4/kit-tipo-c.jpg" },
    { name: "FONTE IPHONE TIPO-C", price: 25.00, image: "https://i.ibb.co/Gxc7R5N/fonte-tipo-c.jpg" }
];

let cart = [];

// 2. Nova função para adicionar e mostrar aviso
function addToCart(index) {
    cart.push(products[index]);
    updateCartDisplay();
}

// 3. FUNÇÃO PARA REMOVER (O que estava faltando!)
function removeFromCart(cartIndex) {
    cart.splice(cartIndex, 1); // Remove o item da lista
    updateCartDisplay();
}

// 4. Atualiza o contador e a lista visual (opcional)
function updateCartDisplay() {
    document.getElementById('cart-count').innerText = cart.length;
}

// 5. Checkout que agora pergunta se quer remover antes de ir pro Zap
function checkout() {
    if (cart.length === 0) return alert("O seu carrinho está vazio!");
    
    // Mostra o que tem no carrinho e pergunta se quer finalizar
    let resumo = cart.map((item, index) => `${index + 1}. ${item.name} - R$ ${item.price.toFixed(2)}`).join('\n');
    let confirmar = confirm("Itens no Carrinho:\n\n" + resumo + "\n\nDeseja finalizar a compra? \n(Para remover um item, você teria que recomeçar o carrinho nesta versão simples ou me pedir para criar uma lista visual de exclusão)");

    if (confirmar) {
        let msg = "Olá SN Mix Store, quero estes produtos:%0A%0A";
        let total = 0;
        cart.forEach(item => {
            msg += `• ${item.name} - R$ ${item.price.toFixed(2)}%0A`;
            total += item.price;
        });
        msg += `%0A*Total: R$ ${total.toFixed(2)}*`;
        window.open(`https://wa.me/5591999240536?text=${msg}`);
    }
}
